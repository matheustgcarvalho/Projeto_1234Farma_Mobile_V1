<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        * { scrollbar-width: none; -ms-overflow-style: none; box-sizing: border-box; }
        *::-webkit-scrollbar { display: none; }
        body { margin: 0; padding: 20px; font-family: 'Segoe UI', Roboto, sans-serif; color: #2E1A47; background-color: #FFFFFF; }
        .header { display: flex; align-items: center; justify-content: center; position: relative; margin-top: 40px; margin-bottom: 30px; }
        .btn-back { position: absolute; left: 0; cursor: pointer; padding: 5px; }
        .brand-logo-small { font-size: 1.8rem; font-weight: 900; }
        .brand-logo-small .mint { color: #00D284; }
        .form-title { font-size: 1.4rem; font-weight: 800; margin-bottom: 8px; }
        .input-group { margin-bottom: 18px; position: relative; }
        .input-group label { display: block; font-size: 0.65rem; font-weight: 800; margin-bottom: 6px; text-transform: uppercase; }
        .input-group input { width: 100%; padding: 12px 14px; border-radius: 12px; border: 1px solid #E0E0E0; background: #F8F9FA; font-size: 0.85rem; outline: none; }
        
        /* Estilo para o ícone de mostrar senha */
        .toggle-password {
            position: absolute;
            right: 14px;
            top: 32px; /* Ajustado para alinhar com o input considerando o label */
            cursor: pointer;
            color: #888;
            user-select: none;
        }

        .btn-submit { 
            width: 100%; 
            padding: 14px; 
            background: #00D284; 
            color: #2E1A47; 
            border: none; 
            border-radius: 12px; 
            font-weight: 800; 
            font-size: 1rem; 
            cursor: pointer; 
        }

        .footer-links { margin-top: 40px; text-align: center; display: flex; flex-direction: column; gap: 20px; font-size: 0.9rem; }
        .link-green { color: #2E1A47; font-weight: 800; border-bottom: 2px solid #00D284; cursor: pointer; }
    </style>
</head>
<body>
    <div class="header">
        <span class="material-icons btn-back" onclick="window.history.back()">arrow_back</span>
        <div class="brand-logo-small"><span class="mint">1234</span>Farma</div>
    </div>

    <h2 class="form-title">Acesse sua conta</h2>
    <p style="color:#666; margin-bottom:30px;">Preencha seus dados para continuar.</p>

    <div class="input-group">
        <label>Seu CPF</label>
        <input type="tel" id="cpfInput" placeholder="000.000.000-00">
    </div>

    <div class="input-group">
        <label>Sua Senha</label>
        <input type="password" id="senhaInput" placeholder="Digite sua senha">
        <span class="material-icons toggle-password" onclick="toggleVisibility()">visibility_off</span>
    </div>

    <button class="btn-submit" onclick="validarLogin()">CONTINUAR</button>

    <div class="footer-links">
        <div>Ainda não tem conta? <span class="link-green" onclick="window.location.href='cadastro_mobile.html'">Cadastre-se</span></div>
        <div style="color:#888; font-weight:600; cursor:pointer;" onclick="window.location.href='loja_mobile.html'">Continuar sem acesso</div>
    </div>

    <script>
        // Função para alternar visibilidade da senha
        function toggleVisibility() {
            const senhaInput = document.getElementById('senhaInput');
            const icon = document.querySelector('.toggle-password');
            
            if (senhaInput.type === 'password') {
                senhaInput.type = 'text';
                icon.textContent = 'visibility';
                icon.style.color = '#00D284'; // Cor verde quando visível
            } else {
                senhaInput.type = 'password';
                icon.textContent = 'visibility_off';
                icon.style.color = '#888';
            }
        }

        function validarLogin() {
            const cpfDigitado = document.getElementById('cpfInput').value;
            const senhaDigitada = document.getElementById('senhaInput').value;

            const cpfCorreto = "000.000.000-00";
            const senhaCorreta = "teste1234";

            if (cpfDigitado === cpfCorreto && senhaDigitada === senhaCorreta) {
                sessionStorage.setItem('usuarioFarmaFacil', 'Matheus Cliente');
                
                if (window.parent && typeof window.parent.closeLoginModal === 'function') {
                    window.parent.location.reload();
                } else {
                    window.location.href = 'loja_mobile.html';
                }
            } else {
                alert("CPF ou Senha incorretos. Tente novamente.");
            }
        }

        document.getElementById('cpfInput').addEventListener('input', function (e) {
            let v = e.target.value.replace(/\D/g, '');
            if (v.length > 11) v = v.slice(0, 11);
            if (v.length > 9) v = v.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, "$1.$2.$3-$4");
            else if (v.length > 6) v = v.replace(/(\d{3})(\d{3})(\d{1,3})/, "$1.$2.$3");
            else if (v.length > 3) v = v.replace(/(\d{3})(\d{1,3})/, "$1.$2");
            e.target.value = v;
        });
    </script>
</body>
</html>